var $Ctrip="Copyright(C) Ctrip.COM 2008.All Rights Reserved.\nNot to be reused without permission.\nCreated by Chu Chengdong, Tian Guofa UI group, IT department.\nLast modified by Chu Chengdong, Tian Guofa, UI group, IT department. 2009\/06\/12";var _=window;var __=_.document;var ___=__.documentElement;var Ctrip={module:{}};var $$={};with(navigator){with(userAgent){$$.browser={IE:!!match(/MSIE/),IE6:!!appVersion.match(/MSIE 6\.0/i),Moz:match(/Mozilla/i)&&!match(/compatible|WebKit/i),Opera:!!match(/Opera/i),Safari:!!match(/Mac|Safari/i)}}}var $topWin=window;(function(){try{while(true){var a=$topWin.parent;if(a&&a!=$topWin&&a.$Ctrip)$topWin=a;else return}}catch(e){$trackEvent('tuna-error','topWin',$error(e),$tunaVersion())}})();window.onerror=function(a,c,d){$trackEvent('normal-error','normal',$error(a,c,d),$tunaVersion());return false};$extend(Array.prototype,new function(){this.each=function(a){for(var c=0;c<this.length;c++)if((a?a(this[c],c):this[c]())===false)return false;return true};this.random=function(){if(!this.length)return null;return this[Math.floor(Math.random()*this.length)]};this.randomize=function(){for(var a=0,c=this.length;a<c;++a){var d=Math.floor(Math.random()*c);var f=this[a];this[a]=this[d];this[d]=f}return this};if($$.browser.IE)this.map=function(func){var g=[];for(var i=0;i<this.length;i++)g.push(func(this[i]));return g}});$extend(Number.prototype,new function(){this.parseCur=function(a){var c=this.toFixed(a||2),d=/(\d)(\d{3}[,\.])/;while(d.test(c))c=c.replace(d,"$1,$2");c=c.replace(/^(-?)\./,"$10.");return a===0?c.replace(/\..*$/,""):c}});$extend(String.prototype,new function(){this.replaceWith=function(d){return this.replace(/\{\$(\w+)\}/g,function(a,c){if(c in d)return d[c];else return a})};this.trim=function(){return this.replace(/^\s+|\s+$/g,'')};this.isEmail=function(){var a=/^[^@\s]+@[^@\.\s]+(\.[^@\.\s]+)+$/;return a.test(this)};this.isDateTime=function(a){var c=a===false?this:this.parseStdDate(false);if(!c)return false;var d=c.match(/^((19|20)\d{2})-(\d{1,2})-(\d{1,2})$/);if(!d)return false;for(var f=1;f<5;f++)d[f]=parseInt(d[f],10);if(d[3]<1||d[3]>12||d[4]<1||d[4]>31)return false;var g=new Date(d[1],d[3]-1,d[4]);return g.getDate()==d[4]?g:null};this.toReString=function(){return this.replace(/([\.\\\/\+\*\?\[\]\{\}\(\)\^\$\|])/g,"\\$1")};this.isChinaIDCard=function(){var a=this.toLowerCase().match(/./g);if(this.match(/^\d{17}[\dx]$/i)){var c=0,d=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];for(var f=0;f<17;f++)c+=parseInt(a[f],10)*d[f];if("10x98765432".charAt(c%11)!=a[17])return false;return!!this.replace(/^\d{6}(\d{4})(\d{2})(\d{2}).+$/,"$1-$2-$3").isDateTime()}if(this.match(/^\d{15}$/))return!!this.replace(/^\d{6}(\d{2})(\d{2})(\d{2}).+$/,"19$1-$2-$3").isDateTime();return false};this.parseStdDate=function(a){var c="January|1@February|2@March|3@April|4@May|5@June|6@July|7@August|8@September|9@October|10@November|11@December|12";var d=this.replace(/[ \-,\.\/]+/g,"-").replace(/(^|-)0+(?=\d+)/g,"$1");if($$.status.version=="en")d=d.replace(/[a-z]{3,}/i,function(d){return(_b=c.match(new RegExp("(^|@)"+d+"[^\\|]*\\|(\\d+)","i")))?_b[2]:d});d=d.replace(/^([^-]{1,2}-[^-]{1,2})-([^-]{4})$/,"$2-$1");return a===false||d.isDateTime(false)?d:null};this.parseEngDate=function(){var a=this.parseStdDate();if(!a)return null;var c=a.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);return"Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec".split("|")[parseInt(c[2])-1]+"-"+c[3]+"-"+c[1]}});$extend(Date.prototype,new function(){this.dateValue=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate())};this.addDate=function(a){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+a)};this.toStdString=function(){return this.getFullYear()+"-"+(this.getMonth()+1)+"-"+this.getDate()};this.toEngString=function(){return"Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec".split("|")[this.getMonth()]+"-"+this.getDate()+"-"+this.getFullYear()}});$extend(Function.prototype,new function(){this.bind=function(a){var c=this;var d=[].slice.call(arguments,1);return function(){return c.apply(a,d.concat([].slice.call(arguments,0)))}};this.pass=function(){var a=[].slice.call(arguments,0);a.unshift(null);return this.bind.apply(this,a)};this.delay=function(a){return setTimeout(this,a)}});$$.cookie={domain:null,path:null,expires:null};$$.history={load:function(){setTimeout($$.history.load,200)}};_.__.write("<div id=\"jsContainer\"><div id=\"jsHistoryDiv\" style=\"display:none;\">"+($$.browser.IE?"":"<iframe id=\"jsHistoryFrame\" name=\"jsHistoryFrame\" onload=\"$$.history.load();\" src=\"about:blank\"><\/iframe>")+"<\/div><textarea id=\"jsSaveStatus\" style=\"display:none;\"><\/textarea><div id=\"tuna_jmpinfo\" style=\"visibility:hidden;position:absolute;z-index:120;overflow:hidden;\"><\/div><div id=\"tuna_alert\" style=\"display:none;position:absolute;z-Index:999;overflow:hidden;\"><\/div><\/div>");$$.status=new function(){this.domReady=false;this.load=false;this.busy=0;this.dealt={};this.regEventCount=0;this.regEventHash={};this.charset=(((_.__.charset?_.__.charset:_.__.characterSet)||"").match(/^(gb2312|big5|utf-8)$/gi)||"gb2312").toString().toLowerCase();this.version={"gb2312":"zh-cn","big5":"zh-tw","utf-8":"en"}[this.charset];var a=$topWin.__.getElementsByTagName("script");this.debug=false;this.debugEvent=false;this.alertDiv=_.__.getElementById("tuna_alert");this.container=_.__.getElementById("jsContainer");this.saveStatus=_.__.getElementById("jsSaveStatus");this.back=false;this.pageValue={data:{}};this.globalValue={};this.today=new Date().toStdString()};$$.history={isFirefox2:/Firefox\/2\.0\.0\.\d+/.test(navigator.userAgent),enabled:false,callback:{},info:{"#":["#","","",""]},current:"#",blank:"blank.html",div:_.__.getElementById("jsHistoryDiv"),frame:_.frames["jsHistoryFrame"],iframe:null,isReady:false,count:0,init:function(){if(_.$$.history.frame)return;this.div.innerHTML="<iframe id=\"jsHistoryFrame\" name=\"jsHistoryFrame\" src=\""+this.blank+"\" onload=\"$$.history.load();\"><\/iframe>";this.frame=_.frames["jsHistoryFrame"];this.iframe=$("jsHistoryFrame")},load:function(){this.isReady=true;$r("domReady",function(){var f=0;setInterval(function(){var a=(_.$$.history.isFirefox2?_:_.$$.history.frame).location.hash.replace(/^#/,"")||"#";if(a!=_.$$.history.current){if(f<1)f++;else{_.$$.history.current=a;var c=_.$$.history.info[a];if(c){$t("[history]返回标志:"+c[0]+"/"+a,"green",c.join("\t"));var d=_.$$.history.callback[c[0]];if(typeof d=="function")d.apply(c[0],c.slice(1))}if($$.browser.Opera)_.$saveHistory()}}else f=0},100)});$t("[history]初始化完成","green");var g=(_.$$.history.isFirefox2?_:_.$$.history.frame).location.hash.replace(/^#/,"")||"#";$t("[history]返回标志:"+g,"green");this.load=function(){}}};$$.module={iframe:[],list:{},tab:{},selectAll:{},address:{source:{}},calendar:{},init:[]};$$.string={"zh-cn":{weekday:"日一二三四五六",display:"@▲|▼@显示|隐藏@"},"zh-tw":{weekday:"日一二三四五六",display:"@▲|▼@顯示|隱藏@"},"en":{weekday:"SMTWTFS",display:"@Show|Hidden@"}}[$$.status.version];$$.access={};function $extend(a){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var f in d)if(d.hasOwnProperty(f))a[f]=d[f]}return a}function $merge(){return $extend.apply(null,[{}].concat([].slice.call(arguments,0)))}function $type(a){var c=typeof a;if(c!='object'&&c!='function')return c;if(a==null)return'null';var d={'array':Array,'boolean':Boolean,'date':Date,'regexp':RegExp,'string':String,'number':Number,'function':Function};for(var f in d)if((a instanceof d[f])||a.constructor==d[f])return f;return c}function $keys(a,c){var d=[];for(var f in a)if(c||a.hasOwnProperty(f))d.push(f);return d}function $values(a,c){var d=[];for(var f in a)if(c||a.hasOwnProperty(f))d.push(a[f]);return d}function $items(a,c){var d=[];for(var f in a)if(c||a.hasOwnProperty(f))d.push([f,a[f]]);return d}function $class(g,i){var j=arguments.callee;var k=function(){};if(i){k.prototype=new i();k.prototype.constructor=i}var m=function(){var a=arguments.callee.caller;if(a==j||a==m.create)return;if(this.initialize)this.initialize.apply(this,arguments)};m.prototype=new k();$extend(m.prototype,g||{},{constructor:m,proto:m.prototype,base:k.prototype});$extend(m,{create:function(a){var c=new m();if(c.initialize)c.initialize.apply(c,a);return c},subclass:function(a){return j(a,m)},implement:function(d,f){if($type(d)=='string'){m.prototype[d]=f}else{[].slice.call(arguments).each(function(c){if($type(c)=='function')c=new c();$items(c,true).each(function(a){m.prototype[a[0]]=a[1]})})}}});return m}function $pageSize(a){var c={docWidth:___.scrollWidth,docHeight:___.scrollHeight,winWidth:___.clientWidth,winHeight:___.clientHeight,scrollLeft:$$.browser.Safari?__.body.scrollLeft:___.scrollLeft,scrollTop:$$.browser.Safari?__.body.scrollTop:___.scrollTop};if($$.browser.Safari){var d=___.$getStyle();c.docWidth+=parseInt(d.marginLeft)+parseInt(d.marginRight);c.docHeight+=parseInt(d.marginTop)+parseInt(d.marginBottom)}c.docWidth=Math.max(c.docWidth,c.winWidth);c.docHeight=Math.max(c.docHeight,c.winHeight);if(a){var f=a=='win';c.left=f?c.scrollLeft:0;c.top=f?c.scrollTop:0;if($$.browser.Mozilla){var d=___.$getStyle();c.left-=parseInt(d.borderLeftWidth)+parseInt(d.marginLeft);c.top-=parseInt(d.borderTopWidth)+parseInt(d.marginTop)}c.width=f?c.winWidth:Math.max(c.docWidth,c.winWidth);c.height=f?c.winHeight:Math.max(c.docHeight,c.winHeight)}return c}function $animate(i,j,k){if(!i||!i.style)return;i=i.style;var k=$extend({fps:40,duration:400,callback:function(){},reverse:false,fn:function(a){return Math.sin(a*Math.PI/2)}},k||{});var m=$keys(j);var o=m.map(function(a){return/(width|height|left|top)\b/i.test(a)?'px':''});var n=new Date();var r=function(){var a=new Date()-n;if(a>k.duration)a=k.duration;for(var c=0;c<m.length;c++){var d=j[m[c]];var f=k.fn(a/k.duration);var g=k.reverse?d[1]+(d[0]-d[1])*f:d[0]+(d[1]-d[0])*f;if(o[c]=='px')g=Math.round(g);i[m[c]]=g+o[c]}if(a==k.duration){clearInterval(q);if(k.callback)setTimeout(k.callback,Math.round(1000/k.fps))}};var q=setInterval(r,Math.round(1000/k.fps));r();return q}function $animate2(m,o){var o=$merge({fps:40,duration:400,callback:function(){},reverse:false,fn:function(a){return Math.sin(a*Math.PI/2)}},o||{});var n=new Date;var r=function(){var a=new Date-n;if(a>o.duration)a=o.duration;var c=o.fn(a/o.duration);for(var d=0;d<m.length;d++){var f=m[d][0];var g=m[d][1];for(var i in g){var j=g[i];var k=o.reverse?j[1]+(j[0]-j[1])*c:j[0]+(j[1]-j[0])*c;if(j[2]=='px'||j[3])k=Math.round(k);f[i]=k+j[2]}}if(a==o.duration){clearInterval(q);if(o.callback)setTimeout(o.callback,Math.round(1000/o.fps))}return arguments.callee};var q=setInterval(r(),Math.round(1000/o.fps));return q}function $fixE(a){a=_.event||a||arguments.callee.caller.arguments[0];$(a.$target=a.target?(a.target.nodeType&&a.target.nodeType==3?a.target.parentNode:a.target):a.srcElement);return a}function $stopEvent(a,c){a=$fixE(a);c=c||0;if(c>=0)a.preventDefault?a.stopPropagation():(a.cancelBubble=true);if(c!=0)a.preventDefault?a.preventDefault():(a.returnValue=false)}function $getUid(){return"uid_"+(new Date()).getTime()+Math.random().toString().substr(2,5)}function $c(a){if(a.constructor==Array)return $(__.createTextNode(a.join("\n")));else return $(__.createElement(a))}var $createElement=$c;function $toJson(c){if(c===null)return'null';if(typeof c=='undefined')return'undefined';switch(c.constructor){case Object:var d=[],f;for(var g in c)d.push($toJson(g)+":"+$toJson(c[g]));return"{"+d.join(",")+"}";case Array:return"["+c.map(function(a){return $toJson(a)}).join(",")+"]";case String:return"\""+c.replace(/([\n\r\\\/\'\"])/g,function(a){return{"\n":"\\n","\r":"\\r"}[a]||"\\"+a})+"\"";case Date:return"new Date("+c.getTime()+")";case Number:case Boolean:case Function:case RegExp:return c.toString();default:return"null"}}function $fromJson(a){var c;var d=null;try{d=eval("("+a+")")}catch(e){$trackEvent('tuna-error','$fromJson',$error(e),$tunaVersion())};return d}function $pageValue(){return $pageValue.get.apply(_,arguments)}$pageValue.set=function(a,c,d){d=d||$$.history.current;if(!(d in $$.status.pageValue.data))$$.status.pageValue.data[d]={};$$.status.pageValue.data[d][a]=c;if($$.browser.Opera)$savePageValue()};this.$pageValue.get=function(a,c){var d=$$.status.pageValue.data[c||$$.history.current];return d&&a in d?d[a]:null};this.$pageValue.del=function(a,c){var d=$$.status.pageValue.data[c||$$.history.current];if(d){delete d[a];if($$.browser.Opera)$savePageValue()}};function $savePageValue(){$$.status.saveStatus.value=$toJson($$.status.pageValue)}function $saveHistory(){var a=[];for(var c in $$.history.info){var d=$$.history.info[c];if(d.constructor==Array&&d.length==4){var f=[c];for(var g=0;g<d.length;g++)f.push(escape(d[g]||""));a.push(escape(f.join("|")))}}$$.status.pageValue["historyInfo"]=a.join("|");$$.status.pageValue["historyCount"]=$$.history.count;if($$.history.frame)$$.status.pageValue["lastHistory"]=$$.history.frame.location.href;$savePageValue()}function $globalValue(){}function $getQuery(a){var c=(location.search||"").match(new RegExp("[\\?&]"+a+"=([^&]+)","i"));return c?unescape(c[1]):null}function $loadJs(d,f,g,i){var j=arguments.callee;var k=j.queue||(j.queue={});var m=null;if(!(d in k)){k[d]=[];if(g){m=n();k[d].push(g)}}else{if(g){if(k[d]){m=n();k[d].push(g)}else{g()}}return}var o=document.createElement('script');o.type='text/javascript';o.charset=f||$$.status.charset;o.onload=o.onreadystatechange=function(){if(o.readyState&&o.readyState!='loaded'&&o.readyState!='complete')return;if(m)clearTimeout(m);o.onreadystatechange=o.onload=null;while(k[d].length)k[d].shift()();k[d]=null};o.src=d;__.getElementsByTagName('head')[0].appendChild(o);function n(){var a=k[d];var c=a.length;if(g&&i){return setTimeout(function(){if(g(true)!==true)a.splice(c,1)},i)}}}function $loadCss(a,c){if($$.browser.IE)__.createStyleSheet(a).charset=c||_.$$.status.charset;else{var d=_.__.createElement("link");with(d){type="text\/css";rel="stylesheet";href=a}__.$("head")[0].appendChild(d)}}function $getCookie(a,c){var d=__.cookie.match(new RegExp("(?:^|;)\\s*"+encodeURIComponent(a)+"=([^;]+)"));if(c===false)return d?d[1]:null;if(d&&c)d=d[1].match(new RegExp("(?:^|&)\\s*"+encodeURIComponent(c)+"=([^&]+)"));return d?decodeURIComponent(d[1]):null}function $delCookie(a,c){if(c){var d=$getCookie(a,false);if(d===null)return;d=d.replace(new RegExp("(^|&)\\s*"+encodeURIComponent(c)+"=[^&]+"),"").replace(/^\s*&/,"");if(d){__.cookie=encodeURIComponent(a)+"="+d;return}}var f=new Date();f.setTime(f.getTime()-1);__.cookie=encodeURIComponent(a)+"=;expires="+f}function $setCookie(a,c,d){if(!d){d=c;c=null}var f=($$.cookie.domain?"; domain="+$$.cookie.domain:"")+"; path="+($$.cookie.path||"/")+($$.cookie.expires?"; expires="+new Date((new Date()).getTime()+$$.cookie.expires*3600000).toGMTString():"");if(c){var g=$getCookie(a,false)||"";if(g)g=(g+"&").replace(new RegExp("(^|&)\\s*"+encodeURIComponent(c)+"=[^&]+&"),"$1");__.cookie=encodeURIComponent(a)+"="+g+encodeURIComponent(c)+"="+encodeURIComponent(d)+f}else __.cookie=encodeURIComponent(a)+"="+encodeURIComponent(d)+f}function $init(a){if(a)$topWin.$$.module.init.push(a);else $topWin.$$.module.init.each()}function $parserRe(d){var f=[];var g=/<[^>]+\smod=[\'\"]?([\w|]+)[^>]+/g;var i=/\sid=[\'\"]?([^\s>'"]+)/i;var j=null;var k=null;var m=null;(d&&d.innerHTML?d:__.body).innerHTML.replace(g,function(a,c){try{if(c=="jmpInfo"){}else if((k=a.match(i))&&(m=$(k[1]))){if(c in Ctrip.module)new Ctrip.module[c](m);else f.push(m)}}catch(e){$t("parserRe函数错误:"+func.toString().slice(0,50)+"...","red");$trackEvent('tuna-error','$parserRe',$error(e),$tunaVersion())};return""});var o=setInterval(function(){var a=f.shift();if(a)$topWin.$d(a);else clearInterval(o)},50)}function $d(c){($(c).getAttribute("mod")||"").replace(/\w+/ig,function(a){if(Ctrip.module[a]){new Ctrip.module[a](c)}else{$t("错误:元素["+(c.id||c.tagName)+"]引用未知模块["+a+"]","red");$trackEvent('tuna-error','$d',[c.id||c.tagName,a].join('; '),$tunaVersion())}})}var $dealElement=$d;function $i(i){var j=$$.access[i];if(j)return j;else{j=new function(){var f=[],g=[];this.get=function(){var a=j.value;for(var c=0;c<f.length;c++){var d=f[c].call(a);if(typeof d!='undefined')a=d}return a};this.set=function(a){for(var c=0;c<g.length;c++){var d=g[c].call(a);if(typeof d!='undefined')a=d}return j.value=a};this.regGet=function(a){if(!a)f=[];else f.push(a);return};this.regSet=function(a){if(!a)g=[];else g.push(a);return}}}return $$.access[i]=j}function $fixElement(f){function g(a,c,d){if('attachEvent'in a)a.attachEvent('on'+c,d);else a.addEventListener(c,d)}function i(a){a=a.getElementsByTagName('input');for(var c=0;c<a.length;c++)if(/checkbox|radio/.test(a[c].type))return a[c];return null}function j(a){if(!a)a=window.event;return a.srcElement||a.target}function k(a){var c=a._5;if(c){a.htmlFor=c.id||(c.id=$getUid());a._5=null}var d=a.style;d.borderBottom='#aaa 1px dashed';d.paddingBottom='0px';d.color='#1E1A75'}function m(a){var c=a.style;c.borderBottom='';c.paddingBottom='';c.color=''}f=f&&f.nodeType?f:_.__;if($$.browser.IE6){var o=f.getElementsByTagName("label");for(var n=0;n<o.length;n++){var r=i(o[n]);if(r&&/checkbox|radio/.test(r.type))(function(lbl,box){lbl._5=box;g(lbl,'mouseover',function(){k(lbl)});g(lbl,'mouseout',function(){m(lbl)})})(o[n],r)}}if($$.browser.IE){var q=f.getElementsByTagName("select");for(var n=0;n<q.length;n++)q[n].onmousewheel=function(){return false}}}function $removeTextNode(a){if(!a)return;var c=a.firstChild,d;while(c){d=c.nextSibling;if(c.nodeType==3){if(!c.nodeValue.trim())a.removeChild(c)}else $removeTextNode(c);c=d}return a}function $ajax(d,f,g,i){var j=["MSXML2.XMLHTTP","Microsoft.XMLHTTP"],k;try{k=new XMLHttpRequest()}catch(e){for(var m=0;m<j.length;m++)try{k=new ActiveXObject(j[m]);break}catch(e){}}if(!k){$trackEvent('tuna-error','$ajax','xmlObj creation failure',$tunaVersion());return}k.open(f?"POST":"GET",d||location.href,!!g);k.setRequestHeader("Content-Type","application\/x-www-form-urlencoded");k.setRequestHeader("If-Modified-Since",new Date(0));function o(){if($$.history.enabled&&i){$$.history.init();var c="ajaxHistory_"+$$.history.count++;$$.history.current=c;(function(){if($$.history.isReady){var a=$$.history.info[c]=[i,k.status==200?k.responseText:null,d,f];if($$.history.isFirefox2)location.hash=c;else $$.history.frame.location.href=$$.history.blank+($$.browser.IE?"?"+!($$.history.count%2):"")+"#"+c;if($$.browser.Opera)$saveHistory();$t("[history]增加历史:"+a[0]+"/"+c,"green",a.slice(1).join("\n"))}else setTimeout(arguments.callee,50)})()}return(k.status==200?(/xml/i.test(k.getResponseHeader("content-type"))?k.responseXML:k.responseText):null)}if(g)k.onreadystatechange=function(){if(k.readyState==4){var n=o();if(g(n)===true){setTimeout(function(){$ajax(d,f,g)},1000)}}};k.send(f||"");return g?k:o()}function $showDebug(a){var c=a.keyCode||a.charCode;if($$.status.debug&&c==192){var d=$getDebug();if(d&&(d=d.frameElement))d.style.display=d.style.display==""?"none":""}}function $getDebug(){var a=$topWin.frames["Ctrip_debug"];if(a)return a;with(a=$topWin.$c("iframe")){frameBorder=0;id=name="Ctrip_debug";with(style){border="1px solid red";width="600px";height="300px";position=$$.browser.IE6?"absolute":"fixed";bottom=right="10px";background="white"}}$topWin.$$.status.container.appendChild(a);if($$.browser.IE6)$topWin.$r("scroll",function(){with($("Ctrip_debug").style){zoom=1;zoom=0}});with((a=$getDebug()).document){open();write("<style>body{margin:0;padding:0;font-family:Arial;font-size:12px;overflow:scroll;}div{border-bottom:1px solid #CCC;}<\/style><body><\/body>");close()}$topWin.__.$r("keydown",$showDebug);return a}function $t(a,c,d){if(!$topWin.$$.status.debug)return;if(_!=$topWin)return $topWin.$t(a,c);var f=$getDebug();var g=new Date().getTime()%(1E7);var i="<font id=\"msg_"+g+"\"> "+a+"<\/font>";var j=f.document.createElement("div");if(c)j.style.color=c||"black";if(d)j.title=d;j.innerHTML="<font style=\"color:blue;\">"+g+"<\/font> "+i;with(f.document.body){if(firstChild)insertBefore(j,firstChild);else appendChild(j)}return a}function $alert(a,c,d,f,g){a=$(a);var i=$("alertInfo"),j=$("alertTable"),k=1;i.innerHTML=c;$topWin.$$.status.alertDiv.style.display="";$topWin.$$.status.alertDiv.$setPos(a,f||"tl",g||"tr");$topWin.$$.status.alertDiv.$setIframe();a.className+=" pubGlobal_checkinfo_input01";if(d!==false)a.$setDisplay();function m(){a.className=a.className.replace("pubGlobal_checkinfo_input01","");$topWin.$$.status.alertDiv.style.display="none";$topWin.$$.status.alertDiv.$clearIframe();a.$ur("onblur",m);__.body.$ur("onmousedown",m);a.clearAlert=null;$alert.element=null}if(a.disabled)k=0;else setTimeout(function(){try{a.focus()}catch(e){k=0}},0);if(k)a.$r("onblur",m);else __.body.$r("onmousedown",m);$alert.element=a;a.clearAlert=m}function $toQuery(a,c){var d=[];for(var f in a)if(a.hasOwnProperty(f))d.push([f,c?c(a[f]):a[f]].join('='));return d.join('&')}function $fromQuery(a,c){var d=a.split('&');var f={};for(var g=0;g<d.length;g++){var i=d[g].split('=');if(i.length>1)f[i[0]]=c?c(i.slice(1).join('=')):i.slice(1).join('=')}return f}function $trackEvent(c,d,f,g){var i=(arguments.callee._c||(arguments.callee._c={tuna_total:0,other_total:0}));if(c=='tuna-error'){if(i.tuna_total>=20)return;var j=c+'.'+d;if(i[j]&&i[j]>=5)return;i[j]=(i[j]||0)+1;++i.tuna_total}else{if(i.other_total>=80)return;++i.other_total}var k=['http://www.',/\.ctrip\.com$/.test(document.domain)?'ctrip':'dev.sh.ctriptravel','.com/rp/uiServer2.asp'].join('');var m=$toQuery({'action':'event','p':window.UIMonitor2&&window.UIMonitor2.bi&&window.UIMonitor2.bi.pageview_id||'','u':document.URL,'c':c,'l':f,'a':d,'v':g,'t':new Date*1},function(a){return encodeURIComponent(escape(a))});new Image().src=k+'?'+m}function $error(a){if(!a)return"";var c,d,f,g;if(a.message){if($$.browser.Opera){var i=transErrMessage(a.message);c="";d=this.transed[2];f=this.transed[1];g=this.transed[3].match(/.+((?:file:|http:)[^\s]+?)\s+.+/i)[1]}else{c=a.name||'';d=a.message||"";f=a.lineNumber||a.line||"";g=a.fileName||a.sourceURL||""}}else if(!a.message&&(arguments[2]||arguments[2]==0)){d=a;c="";f=arguments[2];g=arguments[1]}return[c,d,f,g].join('|')}function transErrMessage(a){var c=[];c=a.match(/Statement[^\d]+(\d+)\:([\s\S]+)Backtrace\:([\s\S]+)/);return c}[this.name,this.message,this.line,this.file].join("|");function $tunaVersion(){var a=arguments.callee;if(!a._1){a._1=-1;for(var c=document.getElementsByTagName('script'),d=c.length-1;d>=0;d--){var f=c[d].src.match(/\/tuna_(\d+).js$/i);if(f){a._1=parseInt('20'+f[1]);break}}}return a._1}var c_linklist={};var c_allyes_text={};var c_allyes_delay=1000;var DOM=function(){if(!this||this.nodeType==3||this.$)return this;this.module={};this.module.event={};function u(a){return(a.toString().match(/function([^\{]+)/i)||["","anonymous"])[1].replace(/\(\)/,"").trim()||"anonymous"}function p(a){var c="["+a.event+"] ";c+=a.obj.tagName||{3:a.obj.nodeValue,9:"document"}[a.obj.nodeType||""]||"window";c+=a.obj.id?"#"+a.obj.id:(a.obj.name?"@"+a.obj.name:"");c+=" "+u(a.func);return c}function w(g){return function(a){a=$fixE(a);var c=g.module.event[a.type],d;for(var f=0;f<c.length;f++){if(c[f].enabled){try{d=c[f].func.call(g,a);if($topWin.$$.status.debugEvent)$t(p(c[f])+" ("+(typeof d=="undefined"?"无返回值":d.toString().slice(0,100))+")",null,c[f].func);if(d===false)break}catch(ex){$t(p(c[f])+" (执行错误)","red",c[f].func);$trackEvent('tuna-error','DOM.execEvent',$error(ex),$tunaVersion())}}else{c.splice(f,1);f--}}return d}}if(this.__)this.$=function(objId,flag){if(typeof objId=="object")return DOM.apply(objId);var v;if(flag){var l=___.innerHTML.match(new RegExp("\\sid=([\\\'\\\"]?)([\\w$]+?[_$]"+objId.toReString()+")\\1"),"g");if(l){for(var E=0;E<l.length;E++){v=$(l[E]);if(v)return v}}return $(objId)}else v=__.getElementById(objId);return v?$(v):null};else this.$=function(f){var g=this.getElementsByTagName(f);g.$each=function(a){var c;if(g.length!==undefined)for(var d=0;d<g.length&&(c=a.call(this,g[d],d))!==false;d++);else a.call(this,g,0);return c===false?0:1};for(var i=0;i<g.length;i++)$(g[i]);return g};if(this.nodeType==1){if(this.tagName=="INPUT"&&/^(text|hidden)$/i.test(this.type)||this.tagName=="TEXTAREA")this.isNull=function(){return!this.value.trim()};if(/^SELECT$/.test(this.tagName))this.$setValue=function(value){for(var E=0;E<this.options.length;E++){if(this.options[E].value==value){this.selectedIndex=E;return true}}return false}}if(!this.hasAttribute)this.hasAttribute=function(str){return typeof this.attributes[str]!="undefined"};this.$parentNode=function(a){var c=$(this.parentNode);if(a&&c&&c.tagName&&c.tagName.toLowerCase()!=a.toLowerCase())c=c.$parentNode(a);return c&&c.tagName?c:null};this.$firstChild=function(){return $(this.firstChild)};this.$lastChild=function(){return $(this.lastChild)};this.$childNodes=function(){var a=this.childNodes;for(var c=0;c<a.length;c++)$(a[c]);return a};this.$nSib=this.$nextSibling=function(){return $(this.nextSibling)};this.$pSib=this.$previousSibling=function(){return $(this.previousSibling)};this.$click=function(){if(this.click)this.click();else{var a=__.createEvent("MouseEvents");a.initMouseEvent("click",true,true,_,0,0,0,0,0,false,false,false,false,0,this);this.dispatchEvent(a)}};this.$getStyle=function(a){var c=this.currentStyle||_.getComputedStyle(this,null);return a?c[a]:c};this.$getPara=function(){var a,c=(a=this.getAttribute(arguments[0])||"").split(a.indexOf("")>-1?"":"|");for(var d=0;d<Math.max(arguments.length-1,c.length);d++)c[d]=c[d]||arguments[d+1]||"";return c};this.$r=this.$regEvent=function(i,j,k,m){m=m||50;if(arguments.length==3&&typeof k=="number"){m=k;k=null}var o=this;if(i.constructor!=Array)i=[i];if(j.constructor!=Array)j=[j];i.each(function(g){j.each(function(d){g=g.replace(/^(on)?/i,"");g=g=="DOMContentLoaded"?"domready":g.toLowerCase();if(g=="domready")o=_;var f={enabled:true,obj:o,event:g,func:d,hash:k,level:m,id:_.$$.status.regEventCount++};if(g=="domready"&&$$.status.domReady||g=="load"&&(o==_||o==__.body)&&$$.status.load)d();else{if(!(g in o.module.event)){o.module.event[g]=[];if(o.attachEvent)o.attachEvent("on"+g,w(o));else o.addEventListener(g,w(o),false)}o.module.event[g].push(f);o.module.event[g].sort(function(a,c){return(a.level-c.level)||(a.id-c.id)})}if(k){if(!(k in $$.status.regEventHash))$$.status.regEventHash[k]=[];$$.status.regEventHash[k].push(f)}})})};this.$ur=this.$unregEvent=function(g,i,j){var k=this;if(g.constructor!=Array)g=[g];if(i.constructor!=Array)i=[i];g.each(function(f){i.each(function(a){f=f.replace(/^(on)?/i,"");f=f=="DOMContentLoaded"?"domready":f.toLowerCase();if(f=="domready")k=_;if(f in k.module.event){var c=k.module.event[f];for(var d=0;d<c.length;d++){if(c[d].enabled&&c[d].func==a&&(!j||c[d].hash==j)){c[d].enabled=false;break}}if(!c.length){delete k.module.event[f];if(k.detachEvent)k.detachEvent(f,w);else k.removeEventListener(f,w,false)}}})})};this.$urh=this.$unregEventHash=function(a){var c=this;if(a in $$.status.regEventHash){var d=$$.status.regEventHash[a],f;while(f=d.shift())f.obj.$ur(f.event,f.func,a);delete $$.status.regEventHash[a]}};this.$getWin=function(){var a=this.ownerDocument;return a.parentWindow||a.defaultView};this.$g=this.$selNode=function(G){function y(m,o){var n=[],r=m.match(/^([\.\#]*)([a-zA-Z0-9\-_*]+)(.*)$/i);if(!r)return[];if(r[1]=="#"){var q=$(r[2]);if(q)n.push(q)}else if(r[1]==".")o.each(function(v){v.$("*").$each(function(a){if(new RegExp("\\b"+r[2]+"\\b").test(a.className))n.push($(a))})});else for(var s=0;s<o.length;s++){var q=o[s].$(r[2]);if(q)for(var h=0;h<q.length;h++)n.push(q[h])}r[3].replace(/\[([^!=]+)(=|!=)([^\]]*)\]/gi,function(f,g,i,j){var k=n.slice(0);n=[];k.each(function(a){g={"class":"className","for":"htmlFor"}[g]||g;var c=a[g]||a.getAttribute(g);var d;if(g=="className")d=new RegExp("\\b"+j+"\\b").test(c);else d=c==j;if((i=="=")==d)n.push($(a))})});return n}var t=[this==_?_.__.body:this],C=[],z=[];G.replace(/[^\[,]([^\[,]*(\[[^\]]*\])*)+/g,function(c){var d=t.slice(0);c.replace(/(#|\*)/gi," $1").replace(/([^\^ ])\.(\w+)/gi,"$1[className=$2]").trim().split(/\s+/g).each(function(a){d=y(a,d)});C=C.concat(d)});C.each(function(a){if(!a.__selNodeFlag__){a.__selNodeFlag__=true;z.push(a)}});z.each(function(a){a.__selNodeFlag__=false});return z.length==0?null:z};this.$getPos=function(){var f=this,g=this,i,j=[0,0],k,m={"thin":2,"medium":4,"thick":6};function o(){if(f==g)return;function d(a){var c=/^(none|hidden)$/i.test(g.$getStyle("border"+a+"Style"))?0:g.$getStyle("border"+a+"Width");return m[c]||parseInt(c,10)||0}j[0]+=d("Left");j[1]+=d("Top")}do{i=$(g).$getWin();if(g.tagName.match(/^(iframe|frameset)$/i))o();k=-1;do{j[0]+=g.offsetLeft-g.scrollLeft;j[1]+=g.offsetTop-($$.browser.Safari&&g==i.document.body?0:g.scrollTop);if($$.browser.IE)o();if(!$$.browser.IE6&&g.$getStyle("position")=="fixed")k=1}while(g.offsetParent&&g!=g.offsetParent&&(g=$(g.offsetParent))&&g!=_.___);if($$.browser.Safari){j[0]+=i.__.body.leftMargin||0;j[1]+=i.__.body.topMargin||0}if(k==1||i!=$topWin){j[0]+=i.___.scrollLeft*k;j[1]+=i.___.scrollTop*k}}while(g=i.frameElement);return j};this.$setPos=function(k,m,o){function n(g,i){function j(a,c,d,f){return d+{"l":0,"c":c.offsetWidth/2,"r":c.offsetWidth,"t":0,"m":c.offsetHeight/2,"b":c.offsetHeight}[a||"l"]*f}return j(m.match(g),this,j(o.match(g),k,r[i],1),-1)+"px"}var r=k.$getPos();m=m||"lt";o=o||"lb";this.style.left=n.call(this,/[lcr]/i,0);this.style.top=n.call(this,/[tmb]/i,1)};this.$setIframe=function(c){if(c!==true&&!$$.browser.IE6)return;if(this.module.iframe)f=this.module.iframe;else{function d(){for(var a=0;a<$topWin.$$.module.iframe.length;a++){if($topWin.$$.module.iframe[a].$getStyle("display")=="none")return $topWin.$$.module.iframe[a]}}var f=d();if(!f){f=$topWin.$c("iframe");with(f.style){width=height="0px";background="#FFF";position="absolute";display="none";zIndex=100}f.frameBorder=0;f.id=f.name=$getUid();$topWin.$$.status.container.appendChild(f);$topWin.$$.module.iframe.push(f);with($topWin.frames[f.id].document){open();write('<style>html,body{overflow:hidden}</style>');close()}}this.module.iframe=f}f.$setPos(this,"tl","tl");with(f.style){width=this.offsetWidth+"px";height=this.offsetHeight+"px";display=""}return f};this.$clearIframe=function(){var a=this.module.iframe;if(a){a.style.display="none";this.module.iframe=null}return a};function D(a,c,d){if(!a)return null;c=c||"n";var f=new RegExp(({1:"n",3:"t",8:"c"}[a.nodeType])||"o","i");return c.match(f)?a:d.call(a,c)}this.$nAbs=function(a){var c=this,d=c.firstChild||c.nextSibling;if(!d)do{c=c.parentNode;if(c==__.body)return null;d=c.nextSibling}while(!d);return $(D(d,a,arguments.callee))};this.$pAbs=function(a){if(this==__.body)return null;var c=this.previousSibling;if(c){while(c.lastChild)c=c.lastChild}else c=this.parentNode;return $(D(c,a,arguments.callee))};this.$focusNext=function(){if(!this.form)return;try{this.blur()}catch(e){};var a=this.form.elements,c;for(var d=0;d<a.length;d++){if(c){if(!$(a[d]).disabled&&a[d].$isDisplay())try{a[d].focus();return}catch(e){}}if(a[d]==this)c=true}};this.$setDisplay=function(){var a=this.$getPos();with($topWin.___){scrollLeft=a[0]-80;scrollTop=a[1]-80}};this.$isDisplay=function(){var a=this;do{if(a.tagName=="INPUT"&&a.type=="hidden"||a.$getStyle("display")=="none"||a.$getStyle("visibility")=="hidden")return false}while((a=a.$parentNode())&&a.nodeType==1);return true};return this};DOM.apply(_);DOM.apply(__);DOM.apply(___);DOM.apply($$.status.alertDiv);Ctrip.module.linklist=function(a){var c=a.getAttribute('mod_linklist_class');if(c===null)c='pubSidebar_linkmargin01';var d='<a class="'+c+'" href="{$link}" title="{$text}" target="{$target}">{$text}</a>';var f=a.getAttribute('mod_linklist_id');if(!f||!(f=window.c_linklist[f])||f.constructor!==Array)return;for(var g=0;g<f.length;g++){var i=f[g].split('|',2);f[g]=d.replaceWith({text:$s2t(i[0]),link:i[1],target:f[g].target||'_d'})}a.innerHTML=f.join('')};Ctrip.module.allyes=function(f){var g=n("user")||n("mod_allyes_user");if(!g){var i=n('mod_allyes_buttons',window);var j=n('mod_allyes_text',window.c_allyes_text);if(!i&&!j)return}var k='<div class="base_ad140x60" style="height:{$height}px">{$iframe}<\/div>';var m='<div class="base_adtxt140">{$text}<\/div>';var o='<iframe marginheight="0" width="100%" height="100%" marginwidth="0" frameborder="0" scrolling="no" src="http:\/\/allyes.ctrip.com\/main\/adfshow?user={$user}&db=ctrip&border=0&local=yes"><\/iframe>';setTimeout(function(){if(g){if(g.indexOf('@')>-1)g=r(g.split('@'));f.innerHTML=o.replace('{$user}',g)}else{var a=[];if(i)a=i.map(function(b){b.button=b.button||';';return k.replace('{$height}',b.height).replace('{$iframe}',o.replace('{$user}',b.user))});if(j)a.push(m.replace('{$text}',$s2t(j)));f.innerHTML=a.join('')}},window.c_allyes_delay);function n(a,c){var d=f.getAttribute(a);if(!d)return null;if(c)return c[d]||null;else return d}function r(a){var c=/^(SearchFlights\.aspx|SearchHotels\.aspx|query\.asp)$/i;var d=location.pathname;d=d.slice(d.lastIndexOf('/')+1);return c.test(d)?a[0]:a[1]}};Ctrip.module.notice=function(a){var c;a.module.notice=new function(){this.enabled=true;this.tip=a.getAttribute("mod_notice_tip")||"";this.check=function(){if(a.module.notice.enabled){with(a){if(isNull()){style.color="gray";value=module.notice.tip}else style.color=""}}};this.isNull=a.isNull=function(){return a.value.trim()==""||a.value==a.module.notice.tip}};a.$r("focus",function(){c=true;if(a.module.notice.enabled){a.style.color="";if(a.value==a.module.notice.tip)a.value=""}},10);a.$r("blur",function(){c=false;a.module.notice.check()},90);if(a.form){var d=$(a.form);d.$r("submit",function(){if(a.isNull())a.value="";setTimeout(function(){if(!c)a.module.notice.check()},1)});if(!$$.browser.Opera)_.$r("beforeunload",a.module.notice.check)}a.module.notice.check()};Ctrip.module.tab=function(g){var i=_.$g(g.getAttribute("mod_tab_button")||"");var j=_.$g(g.getAttribute("mod_tab_panel")||"");var k=parseInt(g.getAttribute("mod_tab_select")||1,10);var m=((g.getAttribute("mod_tab_event")||"").match(/^mouseover$/i)||"click").toString();if(!i||!j)return;g.module.tab=new function(){this.funcListHash={};this.select=function(a){if(this.funcListHash[a-1])this.funcListHash[a-1]()};this.index=k};i.each(function(d,f){g.module.tab.funcListHash[f]=function(){i.each(function(a,c){a.className=a.className.replace(/_(no)?current/g,"_"+(f==c?"":"no")+"current");if(j[c])j[c].style.display=(f==c)?"":"none"});g.module.tab.index=f+1};d.$r(m,g.module.tab.funcListHash[f])});g.module.tab.select(k)};Ctrip.module.display=function(j){var k=j.$getPara("mod_display_panel"),m=[];k.each(function(a){a=_.$(a)||_.$selNode(a);if(a){if(a.length)a.each(function(a){m.push(a)});else m.push(a)}});j.$r("click",function(){(function(f){for(var g=0;g<f.childNodes.length;g++){with(f.childNodes[g]){if(nodeType==3){var i=new RegExp($$.string.display.match(/[^@]+/g).join("|"),"gi");nodeValue=nodeValue.replace(i,function(a){var c=new RegExp("@"+a+"\\|([^@]+)|([^@]+)\\|"+a+"@","i");var d=$$.string.display.match(c);return d[1]||d[2]})}else arguments.callee(f.childNodes[g])}}})(j);m.each(function(a){a.style.display=a.$getStyle("display")=="none"?"":"none"})})};Ctrip.module.selectAll=function(d){var f=$selNode(d.getAttribute("mod_selectAll_input")||"");if(!f)return;f.each(function(c){if(c!=d)c.$r("onclick",function(){d.checked=f.each(function(a){if(a!=d&&!a.checked)return false})})});d.$r("click",function(){f.each(function(a){a.checked=d.checked})})};Ctrip.module.validate=function(a){var c=_.$(a.getAttribute("mod_validate_true")||"");var d=_.$(a.getAttribute("mod_validate_false")||"");var f=a.getAttribute("mod_validate_function")||"";if(!f)return;var g=f.match(/^\/(.*?[^\\])\/([gmi]*?)$/);var i,j,k;f=a[f]||_[f];if(g||f){a.module.validate=new function(){this.check=function(){if(a.value||!c&&!d)k=!(j=f?f(a.value,a):a.value.match(new RegExp(g[1],g[2])));else j=k=false;if(c)c.style.display=j?"":"none";if(d)d.style.display=k?"":"none"}};a.$r("focus",function(){i=setInterval(a.module.validate.check,200)});a.$r("blur",function(){a.module.validate.check();clearInterval(i)})}};$$.module.jmpInfo=(function(){var q=function(a){var c=$(a).$getPos();return{x:c[0],y:c[1]}};var s=function(a,c){if(!a)return;var d=a.style,f,g;if(c){f=c.x+'px';g=c.y+'px'}else{f='-10000px';g='-10000px'}if(d.display!='block')d.display='block';if(d.left!=f)d.left=f;if(d.top!=g)d.top=g};var h={logging:false,coloring:false,animating:false,fading:false,current:null,next:null,popup:null,ani_box:null,log_box:null,timers:{show:300,hide:100,refresh:200},array:{},template:{},css_url:'http://webresource.ctrip.com/styles/control/tuna_071206/control_jmpinfo_tuna_071206.css',css_loaded:false,load_timeout:3000,template_dir:'http://webresource.ctrip.com/code/js/resource/jmpInfo_tuna/',data_dir:'http://webresource.ctrip.com/code/js/resource/jmpInfo_tuna/',common_callback:null,log:function(){if(!h.logging)return;var a=[].slice.call(arguments,0);if(window.console){console.log(a.join(' '))}else{if(!h.console_box)h.console_box=h.make_box({left:'50%',top:'0px',font:'normal 12px/16px verdana',color:'red',border:'1px solid gray',padding:'4px'});h.console_box.appendChild(document.createElement('div')).innerHTML=a.join(' ').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\r\n?|\n/g,'<br />')}},color:function(a,c){if(h.coloring){a.style.backgroundColor=c;a.style.borderColor=c=='red'?'#000':''}},init:function(){h.popup=$("tuna_jmpinfo")||$('z1');h.popup.style.visibility='visible';s(h.popup,null);document.documentElement.$r('mouseover',h.mouseover)},test:function(a){return a.getAttribute('mod')&&/(\||^)jmpInfo(\||$)/.test(a.getAttribute('mod'))},mouseover:function(a){var c=a||window.event;var d=c.target||c.srcElement;if(d==h.ani_box)return;if(h.current){if(h.parent_of(h.current,d)||h.parent_of(h.popup,d)){h.clear_timer('hide');h.color(h.current,'red');return}h.set_hide();h.set}if(h.next){if(h.parent_of(h.next,d))return;h.clear_timer('show');h.color(h.next,'')}h.next=null;if(h.test(d))h.set_show(d)},make_box:function(a){var c=document.createElement('div');var d=[];a=$merge({position:'absolute',left:'-1000px',top:'-1000px'},a);for(var f in a)d.push(f+':'+a[f]);c.style.cssText=d.join(';');return document.body.appendChild(c)},set_show:function(a){h.next=a;h.set_timer('show');h.color(h.next,'pink');h.getInfo(h.next);h.fire_event('before-show',h.next)},set_hide:function(a){h.set_timer('hide');h.color(h.current,'yellow');h.fire_event('before-hide',h.current)},set_timer:function(a,c){var d=h.timers;if(!d['h_'+a]){d['h_'+a]=(!c?setTimeout:setInterval)(h['fn_'+a],d[a]);if(c)h['fn_'+a]()}},clear_timer:function(a,c){var d=h.timers;d['h_'+a]=(!c?clearTimeout:clearInterval)(d['h_'+a])&&null},change_state:function(a){if(a){if(!h.next){h.log('fn_show: J.next is null');return}h.clear_timer('show');h.current=h.next;h.next=null;h.color(h.current,'red');h.set_timer('refresh',true);h.fire_event('show',h.current);h.popup.$setIframe()}else{if(!h.current){h.log('fn_hide: J.current is null');return}h.clear_timer('hide');h.clear_timer('refresh',true);if(h.fading)h.fade(true,h.popup,true);else if(h.animating)h.animate(true,q(h.popup),true);else s(h.popup,null);h.color(h.current,'');h.fire_event('hide',h.current);h.popup.$clearIframe();h.current=null}},fn_show:function(a){h.change_state(true)},fn_hide:function(a){h.change_state(false)},fn_refresh:function(){if(!h.current){h.log('J.current lost');return}var a=h.getInfo(h.current);if(a.ready){h.set_html(h.popup,h.makeHtml(a));var c=h.set_pos(h.current,h.popup,a.position);if(h.animating)h.animate(true,c);else if(h.fading)h.fade(true,h.popup)}},parent_of:function(a,c){if(!a||!c)return false;while(c&&a!=c)c=c.parentNode;return a==c},view_port:function(){var a=$pageSize('win');a.right=a.left+a.width;a.bottom=a.top+a.height;return a},animate:function(a,c,d){if(!h.ani_box)h.ani_box=h.ani_box=h.make_box({border:'1px solid #999'});if(a===true){if(!d==h.animate__)return;h.animate__=!d;h.popup.style.visibility='hidden';var f=q(h.current);$animate(h.ani_box,{left:[f.x,c.x],top:[f.y,c.y],width:[h.current.offsetWidth,h.popup.offsetWidth],height:[h.current.offsetHeight,h.popup.offsetHeight]},{duration:240,callback:h.animate,reverse:d})}else{h.popup.style.visibility='visible';s(h.ani_box,null)}},fade:function(a,c,d){if(a===true){if(!d==h.fade__)return;h.fade__=!d;$animate(c,{opacity:[0,1]},{duration:240,callback:d?h.fade:function(){},reverse:d})}else{s(h.popup,null)}},set_html:function(a,c){if(h.current_html==c)return;a.innerHTML=h.current_html=c;$parserRe(a);var d=a.style;d.overflow='visible';d.width='';d.width=a.scrollWidth+'px';d.height='';d.height=a.scrollHeight+'px'},set_pos:function(a,c,d){if(!a||!c){return null}if(!a.offsetWidth||!a.offsetHeight){s(c,null);if(c.$clearIframe)c.$clearIframe();return null}else{var f=h.calc_pos(a,c,d);s(c,f);if(c.$setIframe)c.$setIframe();return f}},calc_pos:function(a,c,d){if(d&&d.length==4){for(var f=0,g=[];f<d.length;f++){g[f]=/[lt]/.test(d[f])?0:/[rb]/.test(d[f])?1:0.5}var i=[{x:c.offsetWidth*g[0],y:c.offsetHeight*g[1]},{x:a.offsetWidth*g[2],y:a.offsetHeight*g[3]}];var j=q(a);return{x:j.x+i[1].x-i[0].x,y:j.y+i[1].y-i[0].y}}else{var j=q(a);var k=h.view_port();var m={x:a.offsetWidth,y:a.offsetHeight};var o={x:c.offsetWidth,y:c.offsetHeight};var n=['l','t','l','b'];if(j.x+o.x>k.right&&j.x+m.x-o.x>=k.left){n[0]='r';n[2]='r'}if(j.y+m.y+o.y>k.bottom&&j.y-o.y>=k.top){n[1]='b';n[3]='t'}return arguments.callee(a,c,n)}},fire_event:function(a,c){if(h.common_callback)h.common_callback(a,c);var d=h.getInfo(c).callback;if(d)d(a,c)},loadTemplate:function(c){if(!h.css_loaded){h.css_loaded=true;$loadCss(h.css_url)}var d=$$.module.jmpInfo.template;if(d.hasOwnProperty(c))return!!d[c];d[c]=false;if(c.charAt(0)=='#'){var f=document.$g(c);if(!f){h.log('template element '+c+' not found')}else{d[c]=h.htmlOf(f[0]);return true}}else{var g=h.template_dir+c+'.js';$loadJs(g,'gbk',function(a){if(a){h.log('J.loadTemplate timeout for '+g);return true}},h.load_timeout)}return false},loadData:function(c){if(!c)return true;var d=c.name;var f=$$.module.jmpInfo.array;if(f.hasOwnProperty(d))return!!f[d];f[d]=false;var g=h.data_dir+d+'_'+$$.status.charset+'.js';$loadJs(g,null,function(a){if(a){h.log('J.loadData timeout for '+g);return true}},h.load_timeout);return false},getInfo:function(a){var c={};var d=(a.getAttribute('mod_jmpInfo_page')||'default_normal').split('?');c.page=!/^#/.test(d[0])?d[0].replace(/\.asp$/i,'').toLowerCase():d[0];c.query=h.parseQuery(d.slice(1).join(''));c.ready=h.loadTemplate(c.page)&&h.loadData(c.query);var f=a.getAttribute('mod_jmpInfo_content')||'';c.content=f.split('|');var g=a.getAttribute('mod_jmpInfo_position')||'auto';if(g in h.posMap)g=h.posMap[g];c.position=/[ltrbcm]{4}/.test(g)?g.split(''):null;var i=a.getAttribute('mod_jmpInfo_callback');if(i&&typeof(window[i])=='function')c.callback=window[i];return c},posMap:{'align-center':'ctcb','align-left':'ltlb','corner-left':'ltrb','align-right':'rtrb','corner-right':'rtlb','above-align-left':'lblt','above-align-right':'rbrt'},parseQuery:function(a){if(!a)return null;var c=a.split('=');if(c.length<2)return null;return{name:c[0],value:c.slice(1).join('')}},queryData:function(a){var c=$$.module.jmpInfo.array[a.name];var d='@'+a.value+'|';var f=c.indexOf(d)+1;if(!f){h.log('queryData failure',a.name,a.value);return[]}return c.slice(f,c.indexOf('@',f)).split('|')},makeHtml:function(a){var c=$$.module.jmpInfo.template[a.page];var d=c.match(/<body.*?>([\s\S]+)<\/body>/i);c=(d?d[1]:c).replace(/<!--[\s\S]*?-->/g,'');var f={'para':a.content};if(a.query)f['array']=h.queryData(a.query);return h.fillContent(c,f)},fillContent:function(k,m){var o=$keys(m).join('|');var n='(<(\\w+)[^>]*)\\bid="('+o+')(\\d+)"([^>]*>)[\\s\\S]*?(<\\/\\2>)';var r=new RegExp(n,'gi');return k.replace(r,function(a,c,d,f,g,i,j){return c+i+(m[f][g-1]||'')+j})},htmlOf:function(a){if(!a||a.nodeType!=1)return'';a=a.cloneNode(true);a.removeAttribute('id');a.style.cssText=a.style.cssText.replace(/\bdisplay:\s*none;?/i,'');if('outerHTML'in a){return a.outerHTML.replace(/(<[^>]+\sid=)(\w+)/g,'$1"$2"')}else{var c=[];var d=a.attributes;for(var f=0;f<d.length;f++){if(d[f].name=='id')continue;c.push(d[f].name+'="'+d[f].value+'"')}var g=c.length?' '+c.join(' '):'';var i=a.tagName.toLowerCase();return'<'+i+g+'>'+a.innerHTML+'</'+i+'>'}}};$r('domReady',h.init);return h})();$$.string.address={"zh-cn":{b:"输入中文/拼音或↑↓选择.",i:"输入",j:"或↑↓选择.",k:"中文/拼音",e:"请输入至少两个字母或一个汉字.",h:"",o:"按拼音排序",s:"对不起, 找不到: ",l:"结果共",p:"项,←→翻页",a:",共"},"zh-tw":{b:"輸入中文/拼音或↑↓選擇.",i:"輸入",j:"或↑↓選擇.",k:"中文/拼音",e:"請輸入至少兩個字母或一個漢字.",h:"",o:"按拼音排序",s:"對不起, 找不到: ",l:"結果共",p:"項,←→翻頁",a:",共"},"en":{b:"Type or scroll to select.",i:"Input ",j:" or use up or down to select.",k:"English",e:"Please Input at least two character.",h:"",o:"sort by spelling",s:"No match",l:"Results ",p:",left or right to turn page",a:",All"}}[$$.status.version];$$.module.address.sourceMap={"hotel":["http://scriptres.ctrip.com/hoteladdress/HotelCityAddress{$charset}.aspx","utf-8"],"hotelAll":["http://scriptres.ctrip.com/hoteladdress/HotelCityAddress{$charset}.aspx","utf-8"]};(function(){function H(a,c){var d=a.match(/^[^\|]+/),f=c.match(/^[^\|]+/);return d>f?1:(d==f?0:-1)}function K(){var a=$c("div");with(a.style){width="0px";height="0px"}a.innerHTML="<div id=\"tuna_address\" style=\"display:none;position:absolute;z-index:120;overflow:hidden;\"><div id=\"address_warp\"><div id=\"address_message\">&nbsp;<\/div><div id=\"address_list\"><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><a class=\"a1\" href=\"###\"><span>&nbsp;<\/span>&nbsp;<\/a><\/div><div class=\"address_pagebreak\" id=\"address_p\"><a id=\"address_arrowl\" href=\"javascript:;\" name=\"p\">&lt;-<\/a><a id=\"address_p1\" href=\"javascript:;\" name=\"1\" class=\"address_current\">1<\/a><a id=\"address_p2\" href=\"javascript:;\" name=\"2\">2<\/a><a id=\"address_p3\" href=\"javascript:;\" name=\"3\">3<\/a><a id=\"address_p4\" href=\"javascript:;\" name=\"4\">4<\/a><a id=\"address_p5\" href=\"javascript:;\" name=\"5\">5<\/a><a id=\"address_arrowr\" href=\"javascript:;\" name=\"n\">-&gt;<\/a><\/div><\/div><\/div>";$("jsContainer").appendChild(a);A=$("tuna_address");$$.module.address.source["default"]="@@";M=$("address_warp");J=$('address_message');L=$('address_list');I=[$('address_p'),$('address_p1'),$('address_p2'),$('address_p3'),$('address_p4'),$('address_p5')];O=$('address_arrowl');P=$('address_arrowr');x=L.getElementsByTagName("a");T=[];for(var c=0;c<x.length;c++)T[c]=x[c].cloneNode(true)}var A,M,J,L,I,O,P,x,T;Ctrip.module.address=function(n){if(!A)K();var r=0,q,s=n.$getWin();var h=n.module.address={};var G,y,t=null,C,z=[];n.setAttribute("autoComplete","off");$r("beforeunload",function(){n.setAttribute("autoComplete","on")});h.focusNext=n.getAttribute("mod_address_focusNext");h.focusNext=/^(1|true)$/i.test(h.focusNext||"");h.reference=n.getAttribute("mod_address_reference");var u=n.getAttribute("mod_address_cookie");if(u){u=s.$(u);if(!u){var p=s.$c("input");with(p){type="hidden";id=name=u}u=p;n.parentNode.insertBefore(u,n)}}if(h.reference)h.reference=s.$(h.reference)||s.$(h.reference,true);var w=n.getAttribute("mod_address_suggest");var v=n.getAttribute("mod_address_cookieSuggest");h.suggest=[];if(v){h.suggest=v.match(/[^@]+@/gi);if(w)h.suggest._h(w.match(/[^@]+@/gi))}else if(w)h.suggest=w.match(/[^@]+@/gi);if(h.suggest.length>12)h.suggest=h.suggest.slice(0,12);h.source=n.getAttribute("mod_address_source")||"default";if(!$$.module.address.source[h.source]){$$.module.address.source[h.source]="@@";if($$.module.address.sourceMap[h.source])$loadJs($$.module.address.sourceMap[h.source][0].replace(/\{\$charset\}/gi,$$.status.charset),($$.module.address.sourceMap[h.source][1]||"").replace(/\{\$charset\}/gi,$$.status.charset)||$$.status.charset);else $loadJs("http://webresource.ctrip.com/code/js/resource/address_tuna/"+h.source+"_"+$$.status.charset+".js",$$.status.charset)}h.auto=n.getAttribute("mod_address_auto");h.auto=h.auto&&h.auto.match(/^(false|0)$/i)?false:true;h.redraw=function(){if(y)Q()};h.hook={};(n.getAttribute("mod_address_hook")||"").replace(/(on)?([^;:]+):([^;]+)/gi,function(a,c,d,f){h.hook[d.toLowerCase()]=s[f]});function l(){if(r){r=0;return}q=false;L.style.display=J.style.display=I[0].style.display="none";function d(c){x[c].onmousedown=function(a){B(c);$stopEvent(a);if(x[c].outerHTML)x[c].outerHTML=x[c].outerHTML+' ';n.blur()}}A.onmousedown=function(){r=1};for(var f=0;f<x.length;f++)new d(f);O.onmousedown=P.onmousedown=E;for(var f=1;f<I.length;f++)I[f].onmousedown=E;C=null;if(t!==null)x[t].className="address_selected";if(h.hook["focus"])h.hook["focus"](n);setTimeout(Q,0);y=setInterval(Q,150)}function E(a){r=1;if(a)$stopEvent(a);switch(this){case O:D.m_get(D.page-1);break;case P:D.m_get(D.page+1);break;default:D.m_get(parseInt(this.firstChild.nodeValue))}}var D=new function(){var g;this.page=1;this.pagelist;this.maxpage=1;this.m_get=function(a){if(!g||!a||a<1||a>this.maxpage)return null;this.page=a;this.pagelist=g.slice((a-1)*12,Math.min(a*12,g.length));for(var c=0;c<x.length;c++){if(c<this.pagelist.length){x[c].style.display="block";var d=this.pagelist[c].replace(/@/g,"").split("|");x[c].lastChild.nodeValue=d[1];x[c].firstChild.firstChild.nodeValue=d[0];z[c]=d}else{x[c].style.display="none";z[c]=null}}if(t!==null){if(t>=this.pagelist.length){x[t].className="";t=this.pagelist.length-1;x[t].className="address_selected"}}else{t=0;x[0].className="address_selected"}i.call(this);L.style.display=J.style.display="";if(!q){A.style.display="";var f=n.$getPos();if(A.offsetWidth+f[0]>___.offsetWidth)A.$setPos(n,"tr","br");else A.$setPos(n);A.$setIframe();q=true}N.call(this)};this.m_set=function(a){g=a;this.maxpage=Math.ceil(a.length/12);this.page=1;this.m_get(1)};function i(){var a=this.maxpage<6||this.page<3?1:this.page>this.maxpage-2?this.maxpage-4:this.page-2;var c=Math.min(a+4,this.maxpage);var d;O.style.display=this.page==1?"none":"";P.style.display=this.page==this.maxpage?"none":"";for(var f=a;f<a+5;f++){d=I[f-a+1];if(f<=c){d.firstChild.nodeValue=f;d.className=f==this.page?"address_current":"";d.style.display=""}else d.style.display="none"}I[0].style.display=this.maxpage>1?"block":"none"}};function N(){with(A.style){width=M.offsetWidth+"px";height=M.offsetHeight+"px"}A.$setIframe()}function R(){if(h.suggest.length==0){A.style.display="none";if(t!==null){x[t].className="";t=null}return}D.m_set(h.suggest);J.lastChild.nodeValue=$$.status.version.match(/^zh-/)?$$.string.address.i+(n.module.notice?n.module.notice.tip:$$.string.address.k)+$$.string.address.j:$$.string.address.b}function Q(){var c=n.value.trim();if(c===C)return;C=c;c=c.replace(/([\(\)\\\[\]\.\+\?\*\|\^\$])/gi,"\\$1").replace(/@|\|/gi,"");if(!c){R();N();return}A.style.display="";var d=$$.module.address.source[h.source];var f=new RegExp("@([^\\|@]*\\|)?"+c+"[^@]*","gi");var g=new RegExp("@([^@]*\\|)?"+c+"[^@]*","gi");var i=new RegExp("@[^@]*"+c+"[^@]*","gi");var j=[],k=[],m=[];d=d.replace(f,function(a){j.push(a);return""});if(j)j.sort(H);d=d.replace(g,function(a){k.push(a);return""});if(k)k.sort(H);d=d.replace(i,function(a){m.push(a);return""});if(m)m.sort(H);arr=j.concat(k).concat(m);if(!arr||!arr.length){J.lastChild.nodeValue=h.auto?($$.string.address.s+($$.status.version=="en"?"":n.value)):($$.string.address.h+n.value+", "+$$.string.address.o);if(!h.auto){A.style.display="none";if(t!==null){x[t].className="";t=null}}if(L.style.display=="none")R();N()}else{J.lastChild.nodeValue=$$.string.address.h+n.value+", "+$$.string.address.o;D.m_set(arr)}}function S(a){var c=a?a.keyCode:event.charCode;var d="|"+c+"|";if(t==null){if("|13|".indexOf(d)!=-1){$stopEvent(a,1);if(h.focusNext)setTimeout(function(){n.$focusNext()},1)}return true}if("|13|".indexOf(d)!=-1){$stopEvent(a,1);B(t);n.blur()}if("|33|37|109|188|219|".indexOf(d)!=-1){E.call(O);$stopEvent(a,1)}if("|34|39|61|190|221|".indexOf(d)!=-1){E.call(P);$stopEvent(a,1)}if("|38|40|".indexOf(d)!=-1){x[t].className="";t+=D.pagelist.length-39+c;t%=D.pagelist.length;x[t].className="address_selected";$stopEvent(a,1)}}function B(a,c){r=2;n.value=z[a][1]||z[a][0];if(h.reference)h.reference.value=z[a][2];if(u)u.value=z.join("|");if(h.hook["change"])h.hook["change"](n);if(c!==false&&h.focusNext)setTimeout(function(){n.$focusNext()},1)}function F(){if(r==1){setTimeout(function(){n.focus()},1);return}clearInterval(y);y=null;A.$clearIframe();A.style.display="none";if(t!==null){if(n.value&&r!=2){if(h.auto)B(t,false);else h.check()}x[t].className="";t=null}r=0;A.onmousedown=null}h.check=function(){var c=n.value.trim();if(n.isNull&&n.isNull())c="";var d;C=c;c=c.replace(/([\(\)\\\[\]\.\+\?\*\|\^\$])/gi,"\\$1").replace(/@|\|/gi,"");if(c){var f=$$.module.address.source[h.source];var g=h.auto?new RegExp("@([^\\|@]*\\|)?"+c+"[^@]*","gi"):new RegExp("@([^\\|@]*\\|)?"+c+"(\\|[^@]*)?(?=@)","gi");var i=h.auto?new RegExp("@([^@]*\\|)?"+c+"[^@]*","gi"):new RegExp("@([^@]*\\|)?"+c+"(\\|[^@]*)?(?=@)","gi");var j=new RegExp("@[^@]*"+c+"[^@]*","gi");var k=[],m=[],o=[];f=f.replace(g,function(a){k.push(a);return""});if(k)k.sort(H);f=f.replace(i,function(a){m.push(a);return""});if(m)m.sort(H);if(h.auto){f=f.replace(j,function(a){o.push(a);return""});if(o)o.sort(H)}d=k.concat(m).concat(o);if(d&&d.length){q=true;D.m_set(d);q=false;B(0,false);r=0}}if(n.module.notice)n.module.notice.check();return!!d};n.$r("onfocus",l);n.blur();n.$r("onblur",F);n.$r("onkeydown",S);if(h.hook["load"])h.hook["load"](n)}})();$$.string.calendar={"zh-cn":{a:"年",b:"月"},"zh-tw":{a:"年",b:"月"},"en":{a:"",b:"Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec"}}[$$.status.version];(function(){function S(){var a=$c("div");with(a.style){width="0px";height="0px"}a.innerHTML="<div id=\"tuna_calendar\" style=\"display:none;position:absolute;z-index:120;overflow:hidden;\"><table id=\"calendar_month1\" cellpadding=\"0\" cellspacing=\"0\"><thead><tr><th colspan=\"7\" class=\"calendar_title01\"><span id=\"calendar_lastmonth\">&lt;--<\/span><div id=\"calendar_title1\">2007年8月<\/div><\/th><\/tr><\/thead><tr><th class=\"day0\">日<\/th><th>一<\/th><th>二<\/th><th>三<\/th><th>四<\/th><th>五<\/th><th class=\"day6\">六<\/th><\/tr><tr><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"over_day\">1<\/a><\/td><td><a href=\"###\" class=\"over_day\">2<\/a><\/td><td><a href=\"###\" class=\"over_day\">3<\/a><\/td><td><a href=\"###\" class=\"over_day\">4<\/a><\/td><\/tr><tr><td><a href=\"###\" class=\"over_day\">5<\/a><\/td><td><a href=\"###\" class=\"over_day\">6<\/a><\/td><td><a href=\"###\" class=\"over_day\">7<\/a><\/td><td><a href=\"###\" class=\"over_day\">8<\/a><\/td><td><a href=\"###\" class=\"over_day\">9<\/a><\/td><td><a href=\"###\" class=\"over_day\">10<\/a><\/td><td><a href=\"###\" class=\"over_day\">11<\/a><\/td><\/tr><tr><td><a href=\"###\" class=\"over_day\">12<\/a><\/td><td><a href=\"###\" class=\"over_day\">13<\/a><\/td><td><a href=\"###\" class=\"over_day\">14<\/a><\/td><td><a href=\"###\" class=\"over_day\">15<\/a><\/td><td><a href=\"###\" class=\"over_day\">16<\/a><\/td><td><a href=\"###\" class=\"over_day\">17<\/a><\/td><td><a href=\"###\" class=\"selected_day\">18<\/a><\/td><\/tr><tr><td><a href=\"###\" class=\"cue_day\">19<\/a><\/td><td><a href=\"###\" class=\"cue_day\">20<\/a><\/td><td><a href=\"###\" class=\"current_day\">21<\/a><\/td><td><a href=\"###\" class=\"enable_day\">22<\/a><\/td><td><a href=\"###\" class=\"enable_day\">23<\/a><\/td><td><a href=\"###\" class=\"enable_day\">24<\/a><\/td><td><a href=\"###\" class=\"enable_day\">25<\/a><\/td><\/tr><tr><td><a href=\"###\" class=\"enable_day\">26<\/a><\/td><td><a href=\"###\" class=\"limit_day\">27<\/a><\/td><td><a href=\"###\" class=\"enable_day\">28<\/a><\/td><td><a href=\"###\" class=\"enable_day\">29<\/a><\/td><td><a href=\"###\" class=\"enable_day\">30<\/a><\/td><td><a href=\"###\" class=\"enable_day\">31<\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><\/tr><tr><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><\/tr><\/table><table id=\"calendar_month2\" cellpadding=\"0\" cellspacing=\"0\"><thead><tr><th colspan=\"7\" class=\"calendar_title02\"><span id=\"calendar_nextmonth\">--&gt;<\/span><div id=\"calendar_title2\">2007年9月<\/div><\/th><\/tr><\/thead><tr><th class=\"day0\">日<\/th><th>一<\/th><th>二<\/th><th>三<\/th><th>四<\/th><th>五<\/th><th class=\"day6\">六<\/th><\/tr><tr><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"enable_day\">1<\/a><\/td><\/tr><tr><td><a href=\"###\" class=\"enable_day\">2<\/a><\/td><td><a href=\"###\" class=\"enable_day\">3<\/a><\/td><td><a href=\"###\" class=\"enable_day\">4<\/a><\/td><td><a href=\"###\" class=\"enable_day\">5<\/a><\/td><td><a href=\"###\" class=\"enable_day\">6<\/a><\/td><td><a href=\"###\" class=\"enable_day\">7<\/a><\/td><td><a href=\"###\" class=\"enable_day\">8<\/a><\/td><\/tr><tr><td><a href=\"###\" class=\"enable_day\">9<\/a><\/td><td><a href=\"###\" class=\"enable_day\">10<\/a><\/td><td><a href=\"###\" class=\"enable_day\">11<\/a><\/td><td><a href=\"###\" class=\"enable_day\">12<\/a><\/td><td><a href=\"###\" class=\"enable_day\">13<\/a><\/td><td><a href=\"###\" class=\"enable_day\">14<\/a><\/td><td><a href=\"###\" class=\"enable_day\">15<\/a><\/td><\/tr><tr><td><a href=\"###\" class=\"enable_day\">16<\/a><\/td><td><a href=\"###\" class=\"enable_day\">17<\/a><\/td><td><a href=\"###\" class=\"enable_day\">18<\/a><\/td><td><a href=\"###\" class=\"enable_day\">19<\/a><\/td><td><a href=\"###\" class=\"enable_day\">20<\/a><\/td><td><a href=\"###\" class=\"enable_day\">21<\/a><\/td><td><a href=\"###\" class=\"enable_day\">22<\/a><\/td><\/tr><tr><td><a href=\"###\" class=\"enable_day\">23<\/a><\/td><td><a href=\"###\" class=\"enable_day\">24<\/a><\/td><td><a href=\"###\" class=\"enable_day\">25<\/a><\/td><td><a href=\"###\" class=\"enable_day\">26<\/a><\/td><td><a href=\"###\" class=\"enable_day\">27<\/a><\/td><td><a href=\"###\" class=\"enable_day\">28<\/a><\/td><td><a href=\"###\" class=\"enable_day\">29<\/a><\/td><\/tr><tr><td><a href=\"###\" class=\"enable_day\">30<\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><td><a href=\"###\" class=\"blank_day\"><\/a><\/td><\/tr><\/table><\/div>";$("jsContainer").appendChild(a);B=$("tuna_calendar");F,H;K=$$.status.today.isDateTime()||new Date();A=$("calendar_title1"),M=$("calendar_title2");J=$("calendar_month1"),L=$("calendar_month2");I=B.getElementsByTagName("th");for(var c=0;c<I.length;c++)if(c%8>0)I[c].firstChild.nodeValue=$$.string.weekday.charAt(c%8-1)}var B,F,H,K,A,M,J,L,I;Ctrip.module.calendar=function(p){if(!B)S();var w=0,v=1;var l=p.module.calendar={};p.setAttribute("autoComplete","off");$r("beforeunload",function(){p.setAttribute("autoComplete","on")});p.value=p.value||p.getAttribute("value")||"";l.focusNext=p.getAttribute("mod_calendar_focusNext");l.focusNext=l.focusNext&&l.focusNext.match(/^(1|true)$/i);l.rangeStart=p.getAttribute("mod_calendar_rangeStart");if(l.rangeStart=="#")l.rangeStart=$$.status.today;l.rangeStart=l.rangeStart?l.rangeStart.isDateTime():null;l.rangeEnd=p.getAttribute("mod_calendar_rangeEnd");if(l.rangeEnd=="#")l.rangeEnd=$$.status.today;l.rangeEnd=l.rangeEnd?l.rangeEnd.isDateTime():null;l.rangeException=p.getAttribute("mod_calendar_rangeException");l.rangeException=l.rangeException?l.rangeException.replace(/-0?/gi,"-").split("|"):null;l.permit=p.getAttribute("mod_calendar_permit");l.permit=l.permit?l.permit.replace(/-0?/gi,"-").split("|"):null;l.weekday=p.getAttribute("mod_calendar_weekday")||"1234567";l.prohibit=p.getAttribute("mod_calendar_prohibit");l.prohibit=l.prohibit?l.prohibit.replace(/-0?/gi,"-").split("|"):null;l.reference=p.getAttribute("mod_calendar_reference");l.reference=l.reference?p.$getWin().$(l.reference):null;l.redraw=function(){v=1};l.check=function(a){var c=(p.isNull&&p.isNull()?"":p.value).trim();if(!c)return arguments.length?a:false;var d=(c.parseStdDate()||"").isDateTime();if(!d)return false;var f=d.toStdString();if(l.rangeStart&&d<l.rangeStart||l.rangeEnd&&d>l.rangeEnd)return false;return("|"+(l.rangeException||[]).join("|")+"|").indexOf("|"+f+"|")==-1&&("|"+(l.prohibit||[]).join("|")+"|").indexOf("|"+f+"|")==-1&&l.weekday.indexOf(d.getDay()||"7")!=-1||("|"+(l.permit||[]).join("|")+"|").indexOf("|"+f+"|")!=-1};l.hook={};(p.getAttribute("mod_calendar_hook")||"").replace(/(on)?([^;:]+):([^;]+)/gi,function(a,c,d,f){l.hook[d.toLowerCase()]=_[f]});function E(){if(p==H&&!v){B.style.display="";B.$setIframe();if(F)F.className=F.className.replace(/selected_day/gi,"");var a=p.value.isDateTime();F=null;if(a)F=$("d_"+a.toStdString());if(F)F.className+=" selected_day";return}if(p.module.notice){p.module.notice.enabled=false;p.style.color="";if(p.value==p.module.notice.tip)p.value=""}v=0;H=p;B.style.display="";$("calendar_lastmonth").onmousedown=$("calendar_nextmonth").onmousedown=function(){v=0;l.currentDate=new Date(l.currentDate.getFullYear(),l.currentDate.getMonth()+(/last/.test(this.id)?-2:2),1);N()};var c=p.$getPos();if(B.offsetWidth+c[0]>___.offsetWidth)B.$setPos(p,"tr","br");else B.$setPos(p);B.$setIframe();l.currentDate=((p.isNull&&p.isNull()?"":p.value).trim().parseStdDate()||"").isDateTime();if(!l.currentDate){l.currentDate=l.rangeStart||new Date();if(l.reference){var d=(l.reference.isNull()?"":l.reference.value).isDateTime();if(d>l.currentDate)l.currentDate=d}while(true){var f=l.currentDate.toStdString();if(("|"+(l.rangeException||[]).join("|")+"|").indexOf("|"+f+"|")==-1&&("|"+(l.prohibit||[]).join("|")+"|").indexOf("|"+f+"|")==-1&&l.weekday.indexOf(l.currentDate.getDay()||"7")!=-1||("|"+(l.permit||[]).join("|")+"|").indexOf("|"+f+"|")!=-1){break}if(!l.rangeEnd||l.rangeEnd&&l.currentDate<l.rangeEnd)l.currentDate=l.currentDate.addDate(1);else{l.currentDate=new Date();break}}}l.currentDate=new Date(l.currentDate.getFullYear(),l.currentDate.getMonth(),1);N();B.onmousedown=function(){w=1}}function D(k,m,o){function n(a,c,d,f){var g=c?c.getDate():"",i=g?"d_"+k+"-"+(m+1)+"-"+g:"",j=f&&c?(l.weekday.indexOf(c.getDay()||7)!=-1):1;a=a.firstChild;if(a.lastChild)a.lastChild.nodeValue=g;else a.appendChild(__.createTextNode(g));a.date=c;a.id=i;a.className=j?d:"limit_day";a.onmousedown=f&&j?R:null;if(a.replaceNode){a.bak=null;a.bak=a.cloneNode(true)}}var r=o.getElementsByTagName("td");o.rows[1].className=k==K.getFullYear()&&m==K.getMonth()?"currentmonth01":"";var q=new Date(k,m,1),s=new Date(k,m+1,0),h=s.getDate(),G=q.getDay(),y,t,C,z;for(var u=0;u<G;u++)n(r[u],null,"blank_day",0);C=l.reference&&l.reference.value.isDateTime();for(var u=0;u<h;u++){y=new Date(k,m,u+1);z=(!l.rangeStart||y>=l.rangeStart)&&(!l.rangeEnd||y<=l.rangeEnd);n(r[u+G],y,z?(C&&y<=C?"cue_day":"enable_day"):"over_day",z)}for(var u=h+G;u<42;u++)n(r[u],null,"blank_day",0)}function N(){var a=new Date(l.currentDate.getFullYear(),l.currentDate.getMonth()+1,1),c;var d=l.currentDate.getFullYear(),f=l.currentDate.getMonth();var g=a.getFullYear(),i=a.getMonth();A.innerHTML=$$.status.version.match(/^zh-/)?(d+$$.string.calendar.a+(f+1)+$$.string.calendar.b):($$.string.calendar.b.split("|")[f]+" "+d);M.innerHTML=$$.status.version.match(/^zh-/)?(g+$$.string.calendar.a+(i+1)+$$.string.calendar.b):($$.string.calendar.b.split("|")[i]+" "+g);D(d,f,J);D(g,i,L);if(l.rangeException)for(var j=0;j<l.rangeException.length;j++)if(c=$("d_"+l.rangeException[j])){c.className="over_day";c.onmousedown=null}if(l.permit)for(var j=0;j<l.permit.length;j++)if(c=$("d_"+l.permit[j])){c.className="enable_day";c.onmousedown=R}if(l.prohibit)for(var j=0;j<l.prohibit.length;j++)if(c=$("d_"+l.prohibit[j])){c.className="limit_day";c.onmousedown=null}if(c=$("d_"+K.getFullYear()+"-"+(K.getMonth()+1)+"-"+K.getDate()))c.className+=" current_day";if(F)F.className=F.className.replace(/selected_day/gi,"");if(c=$("d_"+p.value.parseStdDate())){c.className+=" selected_day";F=c}B.$setIframe()}function R(a){p.value=$$.status.version.match(/^zh-/)?(this.date.getFullYear()+"-"+(this.date.getMonth()+1)+"-"+this.date.getDate()):($$.string.calendar.b.split("|")[this.date.getMonth()]+"-"+this.date.getDate()+"-"+this.date.getFullYear());v=1;if(this.outerHTML)this.outerHTML=this.outerHTML+' ';if(l.hook["change"])l.hook["change"](p);p.blur();$stopEvent(a);if(l.focusNext)setTimeout(function(){p.$focusNext()},10)}function Q(){if(w==1){w=0;setTimeout(function(){p.focus()},0);return true}B.style.display="none";B.$clearIframe();if(p.module.notice)p.module.notice.enabled=true}p.$r("focus",E);p.$r("blur",Q)}})();(function(){var f=__.domain.match(/ctrip(travel)?\.com$/);if(f){_.__uidc_init=new Date*1;__.write("<script src=\"http:\/\/www."+(f[1]?'dev.sh.'+f[0]:f[0])+"\/rp\/uiScript.asp\"><\/script>")}if(_.$$.status.charset=='big5')__.write("<script src=\"http:\/\/webresource.ctrip.com\/code\/js\/public\/public_s2t.js\" charset=\"utf-8\"><\/script>");else _.$s2t=function(a){return a};if($$.browser.IE6)try{__.execCommand("BackgroundImageCache",false,true)}catch(e){};$$.status.debug=/\$debug\$/i.test($topWin.name)||/^(true|1)$/.test($getQuery("debug"));$$.status.debugEvent=/\$debugEvent\$/i.test($topWin.name)||/^(true|1)$/.test($getQuery("debugEvent"));$$.status.alertDiv.innerHTML=$$.status.version.match(/^zh-/)?"<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" class=\"base_popwindow01\"><tr><td class=\"base_poptl\"><\/td><td class=\"base_poptc\"><div><\/div><\/td><td class=\"base_poptr\"><\/td><\/tr><tr><td class=\"base_popml\"><\/td><td id=\"alertInfo\" class=\"base_popmc\">内容<\/td><td class=\"base_popmr\"><\/td><\/tr><tr><td class=\"base_popbl\"><\/td><td class=\"base_popbc\"><div><\/div><\/td><td class=\"base_popbr\"><\/td><\/tr><\/table>":"<table id=\"alertTable\" style=\"font-family:Arial;margin:0;\" cellpadding=\"0\" cellspacing=\"0\"><tr><td style=\"margin:0;padding:0px 2px 2px 0px;background:#E7E7E7;\"><div id=\"alertInfo\" style=\"margin:0px;padding:10px;font-size:12px;text-align:left;background:#FFFFE8;border:1px solid #FFDF47;color:#000;white-space:nowrap;\">内容<\/div><\/td><\/tr><\/table>";function g(c){function d(){if($$.status.domReady)return;var a;$$.status.domReady=true;if("domready"in _.module.event){while(a=_.module.event["domready"].shift())if(a.enabled)try{a.func(c)}catch(c){$t("domReady函数错误:"+a.func.toString().slice(0,100)+"...","red",a.func);$trackEvent('tuna-error','evtDomReady.execEvent',$error(c),$tunaVersion())}}}if($$.browser.Safari||$$.browser.Opera)setTimeout(d,1);else d()}if($$.browser.Moz)__.addEventListener("DOMContentLoaded",g,false);else if($$.browser.IE){try{if(!_.frameElement)(function(){try{___.doScroll("left")}catch(e){setTimeout(arguments.callee,50);return}g()})()}catch(e){}}else if($$.browser.Safari){var i=setInterval(function(){if(__.readyState=="loaded"||__.readyState=="complete"){clearInterval(i);g()}},10)}function loadPageValue(){var a=$$.status.saveStatus.value;if(a)$$.status.back=true;$$.status.pageValue=$fromJson(a||"{}");if(!("data"in $$.status.pageValue))$$.status.pageValue.data={};if(!$$.browser.Opera)$r("beforeunload",[$saveHistory,$savePageValue],90)}function loadHistory(){($$.status.pageValue["historyInfo"]||"").split("|").each(function(a){var c=unescape(a).split("|");if(c.length==5){for(var d=0;d<c.length;d++)c[d]=unescape(c[d]);$$.history.info[c[0]]=c.slice(1);$t("[history]恢复历史:"+c[1]+"/"+c[2],"green",c.slice(2).join("\r"))}});$$.history.count=parseInt($$.status.pageValue["historyCount"]||0,10)||0}$r("domReady",function(){$(__.body);loadPageValue();loadHistory();var a=$$.status.pageValue["lastHistory"];if(a)if($$.browser.IE||$$.browser.Opera){$r("load",function(){setTimeout(function(){$$.history.init()},1)})}else $$.history.init()},10);$r("domready",[$parserRe,$fixElement,function(){try{__.body.focus()}catch(e){}}]);$r("load",[g,function(){$$.status.load=true}])})();var maskShow=(function(){var i=null;var j=null;var k=false;var m={onresize:null,onscroll:null};return function(a,c){if(!i)r();k=!!c;if(!a){y(j,false);y(i,false);o(true);j=null;if(!k)for(var d in m){window[d]=m[d];m[d]=null}}else{if(j)y(j,false);j=a;q(j);s();i.style.zIndex=maskShow.zIndexBack||15;j.style.zIndex=maskShow.zIndexFore||20;y(j,true);y(i,true);o(false,a);if(!k)for(var d in m){m[d]=window[d];window[d]=s}}};function o(a,c){if(!$$.browser.IE6)return;var d=document.getElementsByTagName('select');var f=a?'visible':'hidden';for(var g=0;g<d.length;g++){if((a||!n(d[g],c))&&d[g].currentStyle.visibility!=f)d[g].style.visibility=f}}function n(a,c){while(a&&a!=c)a=a.parentNode;return a==c}function r(){i=document.createElement('div');i.style.cssText='background-color:{$c};border:none;position:absolute;visibility:hidden;opacity:{$a};filter:alpha(opacity={$A})'.replaceWith({c:maskShow.bgColor||'#fff',a:maskShow.bgAlpha||'0.7',A:maskShow.bgAlpha?parseInt(maskShow.bgAlpha*100):'70'});document.body.appendChild(i);maskShow.mask=i}function q(a){var c=a.style;c.position='absolute';c.left='-10000px';c.top='-10000px';c.visibility='hidden';c.display='block';c.zIndex=10}function s(){if(!j)return;var a=$pageSize('doc');G(i,a);var c=h(a,j.offsetWidth,j.offsetHeight);if(c.left<a.scrollLeft)c.left=a.scrollLeft;if(c.top<a.scrollTop)c.top=a.scrollTop;G(j,c)}function h(a,c,d){return{left:((a.winWidth-c)>>1)+a.scrollLeft+(maskShow.adjustX||0),top:((a.winHeight-d)>>1)+a.scrollTop+(maskShow.adjustY||0)}}function G(a,c){var d=a.style;d.left=(c.left||0)+'px';d.top=(c.top||0)+'px';if('width'in c)d.width=c.width+'px';if('height'in c)d.height=c.height+'px'}function y(a,c){a.style.visibility=c?'visible':'hidden';if(!c){a.style.left=-a.offsetWidth-100+'px';a.style.top=-a.offsetHeight-100+'px'}}})();$$.module.adpic={source:{}};Ctrip.module.adpic=function(g){var i=$(g.getAttribute("mod_adpic_link")||"");var j=$(g.getAttribute("mod_adpic_container")||"")||g;var k=$(g.getAttribute("mod_adpic_button")||"");if(i){var m=g.getAttribute("mod_adpic_source")||"";var o=$$.module.adpic.source[m];if(!o||!o.length)return}var n=parseInt(g.getAttribute("mod_adpic_interval")||"")||5000;var r=$$.browser.IE?25:5;var q=[];if(i){i.style.display="none";for(var s=0;s<o.length;s++){var h=i.cloneNode(true);h.style.backgroundImage="url(\'"+o[s].src+"\')";h.href=o[s].href||"javascript:void(0);";h.style.cursor=/^(|###|javascript:;?|javascript:void\(0\);?)$/i.test(o[s].href)?"default":"pointer";h.title=o[s].title;i.parentNode.insertBefore(h,i);q.push(h)}}else{var G=j.$("a");for(var s=0;s<G.length;s++){G[s].style.display="none";q.push(G[s])}i=$c("a");i.style.display="none";j.appendChild(i)}if(!q.length)return;function y(a){return function(){l(a)}}if(k){k.innerHTML="";var t=[];for(var s=0;s<q.length;s++){var C=$c("li");if(!s)C.className="pic_current";C.innerHTML=s+1;t.push(C);k.appendChild(C);C.$r("click",y(s))}}var z,u=false,p=0,w=0,v=null;if($$.browser.IE){g.style.position="relative";g.style.filter="progid:DXImageTransform.Microsoft.Fade(duration=1)"}q[p].style.display="";function l(a){if(a!==null){if(a==w)return;else v=a}clearTimeout(z);if(u)return;u=true;p=w;w=(w+1)%q.length;if(v!==null)w=v;v=null;i.parentNode.insertBefore(q[p],i);q[p].style.position="relative";q[w].style.position="absolute";q[w].style.display="";t[p].className="";t[w].className="pic_current";function c(){q[p].style.display="none";q[p].style.filter="";u=false;z=setTimeout(function(){l(null)},v===null?n:200)}if($$.browser.IE){g.filters[0].apply();q[p].style.display="none";g.filters[0].play();c()}else{var d=100;var f=setInterval(function(){d=Math.max(d-r,0);q[p].style.opacity=d/100;q[p].style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+d+")";if(!d){clearInterval(f);q[p].style.opacity=100;c()}},20)}}z=setTimeout(function(){l(null)},n)};$$.module.loading={source:null,backto:null,preload:function(a){if(a&&$type(a)=='number')this._6=a;this._2.bind(this).delay(this._6)},show:function(){if(this._3)return;if(!this._0)this._2();if(!this._0)return;this._7=maskShow.bgColor;this._8.href=this.backto||'javascript:$$.module.loading.hide()';maskShow.bgColor=this._e;maskShow.bgColor='#666';maskShow(this._0);this._f();this._3=true},hide:function(){if(_.ActiveXObject)__.execCommand('Stop');else if(_.stop)_.stop();maskShow(null);if(this._7)maskShow.bgColor=this._7;clearInterval(this._4);this._3=false},wireup:function(c){if(this._9||!c)return;var d=0;_.$(c).$r('submit',function(){d=new Date();alert(0)},1);_.$r('beforeunload',function(){var a=new Date()-d;if(a>0&&a<1000)$$.module.loading.show()},1);this._9=true},_a:false,_4:null,_6:12000,_0:null,_8:null,_i:null,_e:'#666',_3:false,_9:false,_g:['<div style="background:#FFFFFF none repeat scroll 0%;border:1px solid #CCDCED;height:453px;">','<h1 style="border-bottom:1px solid #CBDCED;height:85px;margin:0 auto;text-align:center;width:99%"><img src="http://pic.ctrip.com/common/pic_loading_logo.gif"></h1>','<div style="width:120px;height:12px;overflow:hidden;margin:80px auto 20px;background-image:url(http://pic.ctrip.com/common/pic_loading_progress.gif)">&nbsp;</div>','<p style="color:#cc6600;font-size:14px;font-weight:bold;text-align:center">我们正在处理您的请求，请稍候....</p>','<p style="margin-top:30px"><a style="display:block;width:104px;height:30px;margin:0 auto;background:url(http://pic.ctrip.com/common/btn_loading_cancel.gif) no-repeat 0 0;text-decoration:none;" onmouseover="this.style.backgroundPosition=\'0 -30px\'" onmouseout="this.style.backgroundPosition=\'0 0\'">&nbsp;</a></p>','<p><a target="_d" href="{$link}"><img style="display:block;margin:0 auto;margin-top:20px;" title="{$title}" alt="{$title}" width="" height="" src="{$img}"></p></div>'].join(''),_2:function(){if(this._0||!this.source)return;var a=this.source.split('@').random().split('|');var c=document.createElement('div');c.style.cssText='width:556px;background:#d9e6f7;border:1px solid #b1cbe4;height:455px;padding:5px;position: absolute; left:-1000px; top:-1000px; z-index: 20;';c.innerHTML=this._g.replaceWith({img:a[0],link:a[1],title:a[2]||''});$$.status.container.appendChild(c);this._0=c;this._8=$(c).$('a')[0]},_f:function(){var c=0,d=120,f=20,g=300;var i=$(this._0).$('div')[1].style;clearInterval(this._4);var j=new Date(),k=-1;this._4=setInterval(function(){var a=(Math.floor((new Date()-j)/g)*f)%(d-c)+c;if(a!=k){k=a;i.backgroundPosition=a+'px 0'}},40)}};Ctrip.module.loading=function(a){var c=$$.module.loading;if(c._a||!(c._a=true))return;var d=a.getAttribute('mod_loading_source');if(d)c.source=d;var f=a.getAttribute('mod_loading_backto');if(f)c.backto=f;var g=parseInt(a.getAttribute('mod_loading_preload'));if(isNaN(g))g=null;var i=a.getAttribute('mod_loading_sourcescript');if(i)$loadJs.pass(i,null,c._2.bind(c)).delay(g||1);else if(g)c.preload(g);var j=a.getAttribute('mod_loading_wireup');if(j.toLowerCase()=="true")c.wireup(a.tagName=='FORM'?a:(a.form||document.aspnetForm))};